{"ast":null,"code":"// src/components/UploadedFiles.js\nimport React,{useEffect,useState}from\"react\";import{collection,getDocs,onSnapshot}from\"firebase/firestore\";import{db}from\"../firebase\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadedFiles=()=>{const[uploadedFiles,setUploadedFiles]=useState([]);useEffect(()=>{// const fetchFiles = async () => {\n//   try {\nconst connectionRef=collection(db,\"files\");const unsubscribe=onSnapshot(connectionRef,querySnapshot=>{const filesList=querySnapshot.docs.map(doc=>({id:doc.id,...doc.data()}));console.log(\"Fetched Files:\",filesList);setUploadedFiles(filesList);});//   } catch (error) {\n//     console.error('Error fetching files:', error);\n//   }\n// };\n// fetchFiles();\nreturn()=>unsubscribe();},[]);// Empty dependency array to fetch once on component mount\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-4 bg-white rounded-lg shadow-md mt-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Uploaded Files\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"File Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"File Size\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Upload Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border-b\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:uploadedFiles.map((file,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:file.name}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:file.size}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:file.uploadDate}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:file.description||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border-b\",children:/*#__PURE__*/_jsx(\"a\",{href:file.url,className:\"bg-green-500 text-white p-2 rounded hover:bg-green-600\",download:true,children:\"Download\"})})]},index))})]})]});};export default UploadedFiles;","map":{"version":3,"names":["React","useEffect","useState","collection","getDocs","onSnapshot","db","jsx","_jsx","jsxs","_jsxs","UploadedFiles","uploadedFiles","setUploadedFiles","connectionRef","unsubscribe","querySnapshot","filesList","docs","map","doc","id","data","console","log","className","children","file","index","name","size","uploadDate","description","href","url","download"],"sources":["/Users/romanhowladar/Desktop/app/file_uploader/src/components/UploadedFiles.js"],"sourcesContent":["// src/components/UploadedFiles.js\nimport React, { useEffect, useState } from \"react\";\nimport { collection, getDocs, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nconst UploadedFiles = () => {\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n\n  useEffect(() => {\n    // const fetchFiles = async () => {\n    //   try {\n    const connectionRef = collection(db, \"files\");\n    const unsubscribe = onSnapshot(connectionRef, (querySnapshot) => {\n      const filesList = querySnapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      console.log(\"Fetched Files:\", filesList);\n      setUploadedFiles(filesList);\n    });\n\n    //   } catch (error) {\n    //     console.error('Error fetching files:', error);\n    //   }\n    // };\n    // fetchFiles();\n    return () => unsubscribe();\n  }, []); // Empty dependency array to fetch once on component mount\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-4 bg-white rounded-lg shadow-md mt-6\">\n      <h2 className=\"text-xl font-bold mb-4\">Uploaded Files</h2>\n      <table className=\"min-w-full bg-white\">\n        <thead>\n          <tr>\n            <th className=\"py-2 px-4 border-b\">File Name</th>\n            <th className=\"py-2 px-4 border-b\">File Size</th>\n            <th className=\"py-2 px-4 border-b\">Upload Date</th>\n            <th className=\"py-2 px-4 border-b\">Description</th>\n            <th className=\"py-2 px-4 border-b\">Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {uploadedFiles.map((file, index) => (\n            <tr key={index}>\n              <td className=\"py-2 px-4 border-b\">{file.name}</td>\n              <td className=\"py-2 px-4 border-b\">{file.size}</td>\n              <td className=\"py-2 px-4 border-b\">{file.uploadDate}</td>\n              <td className=\"py-2 px-4 border-b\">\n                {file.description || \"N/A\"}\n              </td>\n              <td className=\"py-2 px-4 border-b\">\n                <a\n                  href={file.url}\n                  className=\"bg-green-500 text-white p-2 rounded hover:bg-green-600\"\n                  download\n                >\n                  Download\n                </a>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default UploadedFiles;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}